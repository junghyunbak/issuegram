:root {
  --profile-image: url("https://avatars.githubusercontent.com/u/44913775?v=4");
  --user-name: "junghyunbak ";
}

.markdown {
  @apply relative ml-[46px] w-[calc(100%-46px)] text-sm;

  h1,
  h2,
  h3,
  h4,
  h5,
  h6 {
    @apply font-semibold;
  }

  code {
    &:not(pre *) {
      @apply rounded-lg bg-igHighlightBackground px-[4px] py-[2px] font-segoe text-xs;
    }
  }

  strong {
    @apply font-semibold;
  }

  a {
    @apply text-clickable;

    &::before {
      content: "@";
    }

    &[href^="#user-content-fn-"] {
      @apply before:content-["["] after:content-["]"];
    }

    &[href^="#user-content-fnref-"] {
      @apply no-underline;

      &::before {
        content: "";
      }
    }
  }

  ol,
  ul {
    @apply list-[revert];
  }

  li {
    @apply ml-7 mt-1;
  }

  & > * {
    @apply relative mb-[46px] mr-[16px] mt-[5px];

    &::before {
      content: var(--user-name);

      @apply inline font-segoe font-semibold text-secondaryButton;
    }

    &::after {
      content: "";

      background-image: var(--profile-image);
      background-size: cover;

      @apply absolute -left-[46px] top-0 inline-block h-[32px] w-[32px] rounded-full border;
    }
  }

  details {
    @apply mb-0;
  }

  > details {
    @apply relative;

    & > *:not(summary) {
      @apply relative mb-[46px] ml-[46px] mt-[5px];

      &::before {
        content: var(--user-name);

        @apply inline font-segoe font-semibold text-secondaryButton;
      }

      &::after {
        content: "";

        background-image: var(--profile-image);
        background-size: cover;

        @apply absolute -left-[46px] top-0 inline-block h-[32px] w-[32px] rounded-full border;
      }
    }

    & > details > *:not(summary) {
      @apply relative mb-[46px] ml-[46px] mt-[5px];

      &::before {
        content: var(--user-name);

        @apply inline font-segoe font-semibold text-secondaryButton;
      }

      &::after {
        content: "";

        background-image: var(--profile-image);
        background-size: cover;

        @apply absolute -left-[46px] top-0 inline-block h-[32px] w-[32px] rounded-full border;
      }
    }

    &[open] {
      & > summary {
        &::after {
          content: " ――　답글 숨기기";
        }
      }

      & > details[open] {
        & > summary {
          &::after {
            content: " ――　답글 숨기기";
          }
        }
      }
    }

    summary {
      @apply mb-[48px] inline cursor-pointer list-none;

      &::after {
        content: " ――　답글 보기";

        @apply absolute left-0 ml-[8px] mt-[32px] w-full text-xs font-semibold text-secondaryText;
      }

      &::-webkit-details-marker {
        @apply hidden;
      }
    }
  }

  /* footnotes 관련 스타일 */
  section {
    h2 {
      @apply inline;
    }
  }

  blockquote {
    @apply relative text-secondaryText;

    &::before {
      content: "quotation ";
    }

    &::after {
      background-image: url("./user.jpg");
    }

    blockquote {
      @apply mb-[46px] ml-[46px] mt-[12px];

      &::before {
        content: "quotation ";

        @apply font-semibold text-secondaryButton;
      }

      &::after {
        content: "";

        background-image: var("./user.jpg");
        background-size: cover;

        @apply absolute -left-[46px] top-0 inline-block h-[32px] w-[32px] rounded-full border;
      }
    }
  }

  table {
    &::before {
      @apply table-header-group;
    }

    tr,
    th,
    td {
      @apply border;
    }

    th,
    td {
      @apply px-3 py-1.5;
    }

    tbody {
      tr:nth-child(even) {
        @apply bg-gray-100;
      }
    }
  }

  iframe {
    @apply w-full;
  }

  img {
    @apply my-2 rounded-md;
  }
}

.code-block {
  /* 코드블럭 폰트 크기 기준 */
  @apply text-[17px];

  & > div {
    @apply mt-[8px] overflow-hidden;

    & > code {
      @apply block w-full min-w-fit;
    }
  }

  & > p {
    @apply mt-[8px] font-segoe text-xs text-secondaryText;
  }
}
